#!/bin/bash

# see e.g. https://gist.github.com/mohanpedala/1e2ff5661761d3abd0385e8223e16425 for details
set -e
set -u
set -o pipefail

############################################################################################
# This script is executed when the docker container
# is started
############################################################################################

############################################################################################
# SYSLOG
#   start syslog
############################################################################################

sudo service rsyslog start

############################################################################################
# VOLUMES
#   ownership of shared volumes
############################################################################################

sudo chown davidbrandt:davidbrandt ~/server_management/
sudo chown davidbrandt:davidbrandt ~/setup_and_build/

############################################################################################
# STAY RUNNING
#
# at the end of this script, we enter an infinite loop, so that the daemon started
# by start_docker_container does not exit immediately
# https://stackoverflow.com/questions/2935183/bash-infinite-sleep-infinite-blocking

tail -f /dev/null
